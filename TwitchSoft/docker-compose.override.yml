version: '3.7'

services:
  twitchsoft.telegrambot:
    environment:
      - DOTNET_ENVIRONMENT=Development
      - ConnectionStrings__TwitchDb=Server=sqlserverservice;Database=TwitchDb;User Id=sa;Password=BigPassw0rd;Connection Timeout=120
      - Redis__ConnectionString=redis
      - Elasticsearch__Url=http://elasticsearch:9200/
    volumes:
      - ${APPDATA}/Microsoft/UserSecrets:/root/.microsoft/usersecrets:ro

  twitchsoft.twitchbot:
    environment:
      - DOTNET_ENVIRONMENT=Development
      - ConnectionStrings__TwitchDb=Server=sqlserverservice;Database=TwitchDb;User Id=sa;Password=BigPassw0rd;Connection Timeout=120
      - ServiceBusSettings__Host=rabbitmq
      - Redis__ConnectionString=redis
    volumes:
      - ${APPDATA}/Microsoft/UserSecrets:/root/.microsoft/usersecrets:ro

  twitchsoft.servicebusprocessor:
    environment:
      - DOTNET_ENVIRONMENT=Development
      - ConnectionStrings__TwitchDb=Server=sqlserverservice;Database=TwitchDb;User Id=sa;Password=BigPassw0rd;Connection Timeout=120
      - ServiceBusSettings__Host=rabbitmq
      - Redis__ConnectionString=redis
      - Elasticsearch__Url=http://elasticsearch:9200/
    volumes:
      - ${APPDATA}/Microsoft/UserSecrets:/root/.microsoft/usersecrets:ro

  twitchsoft.maintenance:
    environment:
      - DOTNET_ENVIRONMENT=Development
      - ConnectionStrings__TwitchDb=Server=sqlserverservice;Database=TwitchDb;User Id=sa;Password=BigPassw0rd;Connection Timeout=120
    volumes:
      - ${APPDATA}/Microsoft/UserSecrets:/root/.microsoft/usersecrets:ro
